---
description: rules for ChaosMap creation functionality
globs: src/app/project/**/*.tsx, src/app/category*/**/*.tsx
alwaysApply: false
---
 # chaosmap

## ChaosMap Core Functionality
- ChaosMapGenAI is a service for automatically generating chaos maps for industry analysis
- Maps are organized with categories (max 2 levels) and services
- Each service must belong to exactly one category

## Data Structure
- Projects contain chaos maps
- Chaos maps contain categories
- Categories contain services
- Services have names, URLs, descriptions, and optional logos
- Categories can have parent-child relationships (max 2 levels)

## AI Integration
- Use O3-mini for AI-based category suggestions
- AI processing for category suggestions should be handled in API routes
- Implement proper error handling for AI processing
- Consider rate limiting and token usage optimization

## User Workflow
- Users can create projects and invite collaborators
- Services are added by URL input
- AI suggests appropriate categories
- Users can manually adjust categorizations
- Projects can be public or private with different sharing permissions

## Collaboration Features
- Support for shared editing with different permission levels
- Activity logs track all changes
- Comments enable discussion within projects
- Sharing links with configurable permissions

## Billing Integration
- Basic plan: Pay per project download ($14.99)
- Team plan: Monthly subscription ($10) for unlimited downloads
- Track download history for billing purposes
- Handle payment processing securely