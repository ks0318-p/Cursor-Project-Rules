
## このプロジェクトで使用している技術スタック

### コア技術

1. **Node.js**

   - バージョン: 20.18.0（volta管理）
   - JavaScript ランタイム環境
   - サーバーサイドとフロントエンド開発の統一プラットフォーム

2. **TypeScript**

   - バージョン: 5.5.4
   - 静的型付け
   - 型推論と型チェック
   - インターフェースと型定義
   - 全てのコードベースで使用

3. **Next.js**

   - バージョン: 14.2.11
   - React フレームワーク
   - SSR (Server-Side Rendering) と SSG (Static Site Generation)
   - App Router の活用
   - ページとルーティングの統合管理

4. **React**

   - バージョン: 18.3.1
   - コンポーネントベースのUIライブラリ
   - フックの活用（useState, useEffect など）
   - サーバーコンポーネントとクライアントコンポーネント

5. **NestJS**

   - バージョン: 10.4.1
   - サーバーサイドフレームワーク
   - モジュール化されたアーキテクチャ
   - 依存性の注入
   - デコレータベースのAPI設計

6. **Prisma**

   - バージョン: 5.19.0
   - ORM（Object-Relational Mapping）
   - データベースマイグレーション
   - 型安全なデータベースアクセス
   - PostgreSQLとの統合

7. **Zod**

   - バージョン: 3.23.8
   - スキーマ検証
   - ランタイム型チェック
   - 型推論との連携

8. **Redux Toolkit**
   - バージョン: 2.2.7
   - 状態管理ライブラリ
   - RTK Query によるデータフェッチング
   - スライスによる状態管理の簡素化

### フロントエンド技術

1. **TailwindCSS**

   - バージョン: 3.4.4
   - ユーティリティファーストCSSフレームワーク
   - カスタマイズ可能なデザインシステム

2. **Radix UI**

   - アクセシブルなUIコンポーネント
   - ヘッドレスコンポーネントライブラリ
   - スタイリングの自由度

3. **React Hook Form**

   - バージョン: 7.53.0
   - パフォーマンスに優れたフォーム管理
   - バリデーション連携

4. **TanStack Query**

   - バージョン: 5.56.2
   - データフェッチングとキャッシュ管理
   - 非同期状態管理

5. **TanStack Table**
   - バージョン: 8.19.3
   - 高度なテーブル管理
   - ソート、フィルタリング、ページネーション

### バックエンド技術

1. **PostgreSQL**

   - リレーショナルデータベース
   - 強力なクエリ機能
   - トランザクション処理

2. **BullMQ**

   - バージョン: 5.12.2
   - Redis ベースのジョブキューシステム
   - 非同期タスク処理
   - バックグラウンドジョブ管理

3. **AWS SDK**

   - クラウドサービス統合
   - S3、Cognito などの AWS サービスとの連携

4. **OpenAPI/Swagger**
   - API ドキュメント生成
   - API スキーマ定義
   - クライアント生成の基盤

### 開発ツール

1. **Nx**

   - バージョン: 20.1.2
   - モノレポ管理
   - ビルドシステム
   - タスク実行とキャッシング

2. **ESLint**

   - バージョン: 9.6.0
   - コード品質チェック
   - 自動修正機能

3. **Prettier**

   - バージョン: 3.3.2
   - コードフォーマッター
   - 一貫したコードスタイル

4. **Orval**

   - バージョン: 6.31.0
   - API クライアント自動生成
   - OpenAPI スキーマからの型生成

5. **Jest**

   - バージョン: 29.7.0
   - テストフレームワーク
   - ユニットテストとインテグレーションテスト

6. **Cypress**
   - バージョン: 13.15.2
   - E2E テスト
   - ブラウザ自動化テスト

## 開発環境のセットアップ

### 必要なツール

1. **Node.js のインストール**

   - volta または nvm を使用した Node.js 20.18.0 のインストール
   - yarn 1.22.19 のインストール

2. **環境変数の設定**

   - `.env.example` をコピーして `.env` ファイルを作成
   - 必要な環境変数を設定

3. **プロジェクトのセットアップ**

   ```bash
   # リポジトリのクローン
   git clone https://github.com/QuanteeByExKey/quanteeAd.git
   cd quanteeAd

   # 依存関係のインストール
   yarn install

   # データベースのセットアップ
   npx prisma migrate dev

   # APIクライアントの生成
   yarn codegen

   # 開発サーバーの起動
   yarn dev
   ```

### 開発ワークフロー

1. **フロントエンド開発**

   ```bash
   # フロントエンドのみ開発
   yarn dev:ui
   ```

2. **バックエンド開発**

   ```bash
   # バックエンドのみ開発
   yarn dev:api
   ```

3. **データベース操作**

   ```bash
   # マイグレーションの作成
   npx prisma migrate dev --name [マイグレーション名]

   # スキーマの生成
   npx prisma generate

   # データベースのシード
   yarn seed
   ```

4. **APIクライアント生成**

   ```bash
   # OpenAPIスキーマからクライアント生成
   yarn codegen
   ```

5. **リントとフォーマット**

   ```bash
   # リント
   yarn lint

   # フォーマット
   yarn prettier
   ```

## 技術的制約

1. **フロントエンドの制約**

   - Next.js App Router による制約
   - サーバーコンポーネントとクライアントコンポーネントの分離
   - データフェッチング戦略の選択

2. **バックエンドの制約**

   - NestJS のモジュール構造に従う必要性
   - Prisma スキーマの制約
   - API設計の一貫性

3. **パフォーマンスの制約**
   - 大量のデータ処理時のメモリ使用量
   - APIレスポンスタイムの最適化
   - フロントエンドのレンダリングパフォーマンス

## 依存関係

### 主要な依存関係

1. **フロントエンド**

   - next: Reactフレームワーク
   - react: UIライブラリ
   - @tanstack/react-query: データフェッチング
   - @reduxjs/toolkit: 状態管理
   - tailwindcss: スタイリング
   - zod: バリデーション

2. **バックエンド**

   - @nestjs/core: サーバーフレームワーク
   - @prisma/client: データベースORM
   - @nestjs/swagger: APIドキュメント
   - bullmq: ジョブキュー
   - class-validator: バリデーション

3. **共通**
   - typescript: 型システム
   - axios: HTTPクライアント
   - jest: テスト

### 依存関係管理

1. **Nx モノレポ**

   - apps/frontend: フロントエンドアプリケーション
   - apps/api: バックエンドアプリケーション
   - prisma: データベーススキーマ

2. **パッケージ管理**
   - yarn による依存関係管理
   - package.json でのバージョン指定
   - yarn.lock によるロック
